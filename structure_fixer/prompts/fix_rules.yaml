# Structure Fixer - ê·œì¹™ ìœ„ë°˜ ìˆ˜ì • í”„ë¡¬í”„íŠ¸
# LLMì—ê²Œ ì „ë‹¬í•  ê·œì¹™ ë° ê°€ì´ë“œë¼ì¸

system_prompt: |
  ë‹¹ì‹ ì€ UI ë ˆì´ì•„ì›ƒ êµ¬ì¡° ì „ë¬¸ê°€ì…ë‹ˆë‹¤.
  ì´ë¯¸ì§€ì™€ JSON êµ¬ì¡°ë¥¼ ë¶„ì„í•˜ì—¬ ê·œì¹™ ìœ„ë°˜ì„ ìˆ˜ì •í•©ë‹ˆë‹¤.
  
  âš ï¸ ì ˆëŒ€ ê·œì¹™:
  1. Backgroundë§Œ ê²¹ì¹¨ í—ˆìš©! ë‹¤ë¥¸ ëª¨ë“  roleì€ ì ˆëŒ€ ê²¹ì¹˜ë©´ ì•ˆë¨!
  2. ì»¨í…Œì´ë„ˆë‹¹ BackgroundëŠ” ë°˜ë“œì‹œ 1ê°œë§Œ!
  3. Marker, Decoration ê²¹ì¹˜ë©´ â†’ ë°˜ë“œì‹œ ìƒˆ ê·¸ë£¹ìœ¼ë¡œ ë¬¶ê³  í° ê²ƒì„ Backgroundë¡œ!
  4. Element.Marker ì•ˆì— ë˜ Element.Marker ì ˆëŒ€ ê¸ˆì§€!
  
  JSONë§Œ ì¶œë ¥í•˜ì„¸ìš”.

user_prompt_template: |
  ## ì‘ì—…: RLSC êµ¬ì¡° ìˆ˜ì •

  ë‹¹ì‹ ì€ UI ë ˆì´ì•„ì›ƒ êµ¬ì¡° ì „ë¬¸ê°€ì…ë‹ˆë‹¤. 
  ì´ë¯¸ì§€ì™€ ì•„ë˜ JSON êµ¬ì¡°ë¥¼ ë³´ê³ , ê·œì¹™ ìœ„ë°˜ì„ ìˆ˜ì •í•´ì£¼ì„¸ìš”.

  ---

  ### â­ í•µì‹¬ ê·œì¹™

  #### 1. Background ê·œì¹™
  - **ê° ì»¨í…Œì´ë„ˆ(Group/ZStack/HStack/VStack)ì— BackgroundëŠ” 1ê°œë§Œ**
  - **Backgroundë§Œ ê²¹ì¹¨ í—ˆìš©** (ìœ ì¼í•˜ê²Œ ë‹¤ë¥¸ ìš”ì†Œì™€ ê²¹ì¹  ìˆ˜ ìˆìŒ)
  - BackgroundëŠ” ë³´í†µ ê°€ì¥ í¬ê³ , ë‹¤ë¥¸ ìš”ì†Œë“¤ ë’¤ì— ìˆìŒ
  - `role: "Role.Element.Background"`

  #### 2. Decoration ê·œì¹™  
  - Decorationë¼ë¦¬ëŠ” **ê²¹ì¹¨ ë¶ˆí—ˆ**
  - ê²¹ì¹˜ë©´ â†’ **Group/ZStackìœ¼ë¡œ ë¬¶ê³ ** í° ê²ƒì„ **Backgroundë¡œ role ë³€ê²½**
  - `role: "Role.Element.Decoration"`

  #### 3. Marker ê·œì¹™
  - Markerë¼ë¦¬ëŠ” **ê²¹ì¹¨ ë¶ˆí—ˆ**
  - ê²¹ì¹˜ë©´ â†’ **Group/ZStackìœ¼ë¡œ ë¬¶ê³ ** í° ê²ƒì„ **Backgroundë¡œ role ë³€ê²½**
  - `role: "Role.Element.Marker"`

  #### âš ï¸âš ï¸âš ï¸ í•µì‹¬ ì›ì¹™: ê²¹ì¹¨ ê·œì¹™ (ì ˆëŒ€ ì§€ì¼œì•¼ í•¨!)
  - **Backgroundë§Œ ê²¹ì¹¨ í—ˆìš©** (ìœ ì¼í•œ ì˜ˆì™¸)
  - Decoration, Marker, Title, Description ë“± **ë‹¤ë¥¸ ëª¨ë“  roleì€ ì ˆëŒ€ ê²¹ì¹˜ë©´ ì•ˆë¨!**
  - ê²¹ì¹˜ë©´ â†’ **ë°˜ë“œì‹œ** ìƒˆ ê·¸ë£¹(ZStack)ìœ¼ë¡œ ë¬¶ê³  í° ê²ƒì„ Backgroundë¡œ ë³€ê²½
  - **Element.Marker ì•ˆì— ë˜ Element.Marker ì ˆëŒ€ ê¸ˆì§€!** â†’ LayoutContainer.Marker ì‚¬ìš©
  - **ì»¨í…Œì´ë„ˆë‹¹ BackgroundëŠ” ë°˜ë“œì‹œ 1ê°œë§Œ!** 2ê°œ ì´ìƒì´ë©´ í•˜ë‚˜ë§Œ Background, ë‚˜ë¨¸ì§€ëŠ” Decoration

  #### 4. ì»¨í…Œì´ë„ˆ íƒ€ì… ì„ íƒ (ì´ë¯¸ì§€ ë³´ê³  íŒë‹¨)
  - **HStack**: ìš”ì†Œë“¤ì´ ê°€ë¡œë¡œ ë‚˜ì—´
  - **VStack**: ìš”ì†Œë“¤ì´ ì„¸ë¡œë¡œ ë‚˜ì—´
  - **ZStack**: ìš”ì†Œë“¤ì´ ì˜ë„ì ìœ¼ë¡œ ê²¹ì¹¨ (ë ˆì´ì–´ë§)
  - **Group**: ë¶ˆê·œì¹™ ë°°ì¹˜

  #### 5. ìœ„ë°˜ ì¼€ì´ìŠ¤ ì²˜ë¦¬ (ë°˜ë“œì‹œ ìˆ˜ì •!)
  | ìœ„ë°˜ | í•´ê²° ë°©ë²• |
  |------|-----------|
  | Background 2ê°œ ì´ìƒ | **í•˜ë‚˜ë§Œ Background, ë‚˜ë¨¸ì§€ëŠ” Decorationìœ¼ë¡œ ë³€ê²½!** |
  | Decorationë¼ë¦¬ ê²¹ì¹¨ | **ìƒˆ ZStack ê·¸ë£¹ìœ¼ë¡œ ë¬¶ê³  í° ê²ƒì„ Backgroundë¡œ!** |
  | Markerë¼ë¦¬ ê²¹ì¹¨ | **ìƒˆ ZStack ê·¸ë£¹ìœ¼ë¡œ ë¬¶ê³  í° ê²ƒì„ Backgroundë¡œ!** |
  | Decoration + Marker ê²¹ì¹¨ | **ìƒˆ ZStack ê·¸ë£¹ìœ¼ë¡œ ë¬¶ê³  í° ê²ƒì„ Backgroundë¡œ!** |
  | Element.Marker ì•ˆì— Element.Marker | **ì ˆëŒ€ ê¸ˆì§€! LayoutContainer.Marker ì‚¬ìš©!** |
  | ì›í˜•ë°°ê²½ + ì•„ì´ì½˜ | LayoutContainer.Markerë¡œ ë¬¶ê¸° (ì›í˜•=Background, ì•„ì´ì½˜=Marker) |

  ---

  ### ğŸ“Š í˜„ì¬ êµ¬ì¡° (ì ˆëŒ€ì¢Œí‘œ)

  ì•„ë˜ JSONì˜ positionì€ **ì ˆëŒ€ì¢Œí‘œ**ì…ë‹ˆë‹¤.
  ì´ë¯¸ì§€ì™€ ì¢Œí‘œë¥¼ ëŒ€ì¡°í•˜ì—¬ ê° ìš”ì†Œì˜ ìœ„ì¹˜ë¥¼ íŒŒì•…í•˜ì„¸ìš”.

  ```json
  {structure_json}
  ```

  ---

  ### ğŸ“¤ ì¶œë ¥ ìš”êµ¬ì‚¬í•­

  1. ìˆ˜ì •ëœ ì „ì²´ JSON êµ¬ì¡°ë¥¼ **ì ˆëŒ€ì¢Œí‘œ ê·¸ëŒ€ë¡œ** ë°˜í™˜
  2. ê¸°ì¡´ ìš”ì†Œì˜ `id`, `position`ì€ **ìµœëŒ€í•œ ìœ ì§€**
  3. í•„ìš”ì‹œ ìƒˆ ê·¸ë£¹ ë…¸ë“œ ìƒì„± (ìƒˆ id ë¶€ì—¬)
  4. role ë³€ê²½ì´ í•„ìš”í•˜ë©´ ë³€ê²½
  5. JSONë§Œ ì¶œë ¥ (```json ë¸”ë¡ ì‚¬ìš©)

  ### âœ… ì¶œë ¥ ì „ ë°˜ë“œì‹œ ê²€ì¦!
  
  - [ ] ê° ì»¨í…Œì´ë„ˆ(Group/HStack/VStack/ZStack)ì— Backgroundê°€ 1ê°œë§Œ ìˆëŠ”ê°€?
  - [ ] Decorationë¼ë¦¬ ì¢Œí‘œê°€ ê²¹ì¹˜ì§€ ì•ŠëŠ”ê°€?
  - [ ] Markerë¼ë¦¬ ì¢Œí‘œê°€ ê²¹ì¹˜ì§€ ì•ŠëŠ”ê°€?
  - [ ] Element.Marker ì•ˆì— ë˜ Element.Markerê°€ ì—†ëŠ”ê°€?
  - [ ] Backgroundê°€ ì•„ë‹Œ ìš”ì†Œë“¤ë¼ë¦¬ ê²¹ì¹˜ë©´ ê·¸ë£¹ìœ¼ë¡œ ë¬¶ì—ˆëŠ”ê°€?

# Role ì •ì˜ ì°¸ì¡°
roles:
  background:
    name: "Role.Element.Background"
    description: "ë°°ê²½ ìš”ì†Œ, ì»¨í…Œì´ë„ˆë‹¹ 1ê°œë§Œ í—ˆìš©, â­ ìœ ì¼í•˜ê²Œ ê²¹ì¹¨ í—ˆìš©"
    can_overlap: true
  
  decoration:
    name: "Role.Element.Decoration"
    description: "ì¥ì‹ ìš”ì†Œ, ê²¹ì¹¨ ë¶ˆí—ˆ"
    can_overlap: false
  
  title:
    name: "Role.Element.Title"
    description: "ì œëª© í…ìŠ¤íŠ¸, ê²¹ì¹¨ ë¶ˆí—ˆ"
    can_overlap: false
  
  description:
    name: "Role.Element.Description"
    description: "ì„¤ëª… í…ìŠ¤íŠ¸, ê²¹ì¹¨ ë¶ˆí—ˆ"
    can_overlap: false
  
  marker:
    name: "Role.Element.Marker"
    description: "ì•„ì´ì½˜ ë“± ë§ˆì»¤ ìš”ì†Œ, ê²¹ì¹¨ ë¶ˆí—ˆ"
    can_overlap: false

# ì»¨í…Œì´ë„ˆ íƒ€ì… ì •ì˜
container_types:
  hstack:
    name: "HStack"
    description: "ê°€ë¡œ ë°°ì—´ ì»¨í…Œì´ë„ˆ"
    direction: "horizontal"
  
  vstack:
    name: "VStack"
    description: "ì„¸ë¡œ ë°°ì—´ ì»¨í…Œì´ë„ˆ"
    direction: "vertical"
  
  zstack:
    name: "ZStack"
    description: "ë ˆì´ì–´ë§ ì»¨í…Œì´ë„ˆ (ê²¹ì¹¨)"
    direction: "none"
  
  group:
    name: "Group"
    description: "ë¶ˆê·œì¹™ ë°°ì¹˜ ì»¨í…Œì´ë„ˆ"
    direction: "none"

# ìœ„ë°˜ íƒ€ì… ì •ì˜
violation_types:
  multiple_backgrounds:
    description: "ì»¨í…Œì´ë„ˆì— Backgroundê°€ 2ê°œ ì´ìƒ"
    fix: "í•˜ë‚˜ë§Œ Backgroundë¡œ ìœ ì§€, ë‚˜ë¨¸ì§€ëŠ” Decorationìœ¼ë¡œ ë³€ê²½"
  
  decoration_overlap:
    description: "Decorationë¼ë¦¬ ê²¹ì¹¨"
    fix: "Group/ZStackìœ¼ë¡œ ë¬¶ê³  í° ê²ƒì„ Backgroundë¡œ ë³€ê²½"
  
  marker_overlap:
    description: "Markerë¼ë¦¬ ê²¹ì¹¨"
    fix: "Group/ZStackìœ¼ë¡œ ë¬¶ê³  í° ê²ƒì„ Backgroundë¡œ ë³€ê²½"
  
  non_background_overlap:
    description: "Backgroundê°€ ì•„ë‹Œ ìš”ì†Œë“¤ë¼ë¦¬ ê²¹ì¹¨ (Decoration, Marker ë“±)"
    fix: "Group/ZStackìœ¼ë¡œ ë¬¶ê³  í° ê²ƒì„ Backgroundë¡œ ë³€ê²½"
  
  marker_pattern:
    description: "ì›í˜• ë°°ê²½ + ì•„ì´ì½˜ íŒ¨í„´"
    fix: "LayoutContainer.Markerë¡œ ë¬¶ê¸°"
